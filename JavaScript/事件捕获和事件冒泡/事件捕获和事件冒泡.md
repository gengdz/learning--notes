# 事件捕获和事件冒泡
事件捕获和事件冒泡是为了解决 **页面中事件发生顺序** 的问题

事件捕获和事件冒泡是同一问题的两种解决思路。
事件捕获是网景提出的。
事件冒泡是微软提出的。



## 事件捕获和事件冒泡的工作示意图
类似于字母 `U`

先是事件捕获，从高到底，从外到内；
然后是事件冒泡，从低到高，从内向外；

在 `addEventListener` 中，函数签名如下
```javascript
target.addEventListener(type, listener, options);
target.addEventListener(type, listener, useCapture);
```
第三个参数，`useCapture`，可以设置事件发生方式。 默认为 `false` (事件冒泡方式)。也可以手动修改为 `true` (事件捕获方式)



## DOM 事件流阶段
1. 事件捕获阶段
2. 处于目标阶段
3. 事件冒泡阶段



## 事件处理程序
网页给用户作出的反应就叫做事件处理程序



### HTML方式
直接在HTML里面填写了事件处理程序
```html
<main onclick="console.log('我是 main')">
  <article onclick="console.log('我是 article')">
    <section onclick="console.log('我是 section')">第一部分</section>
  </article>
</main>
```



### DOM0级
实现了 html 和 js 分离
```javascript
const main = document.getElementsByTagName("main");
const article = document.getElementsByTagName("article");
const section = document.getElementsByTagName("section");
main.onclick = () => console.log('我是main')
```


### DOM1级别
采用监听的方式 `addEventListener`

```javascript
const main = document.getElementsByTagName("main");
const article = document.getElementsByTagName("article");
const section = document.getElementsByTagName("section");
main.addEventListener('click', () => console.log('main click'), false)
```



## 题目
```html
<main>
  奶奶
  <article>
    妈妈
    <section>
      女儿
      <div>婴儿</div>
    </section>
  </article>
</main>
```
```javascript
const main = document.getElementsByTagName("main");
const article = document.getElementsByTagName("article");
const section = document.getElementsByTagName("section");
const div = document.getElementsByTagName("div");
main.addEventListener('click', () => console.log('奶奶'), false) // 冒泡
main.addEventListener('click', () => console.log('妈妈'), true) // 捕获
main.addEventListener('click', () => console.log('女儿'), true) // 捕获
main.addEventListener('click', () => console.log('婴儿')) // 冒泡
```
点击婴儿之后，依次打印值为什么？
```html
妈妈
女儿
婴儿
奶奶
```
