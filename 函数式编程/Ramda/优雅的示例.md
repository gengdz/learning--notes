# Ramda中值得借鉴的示例

## 返回一个函数的示例

```javascript
// 返回的是一个函数
const applyFav = list =>
  R.ifElse(
    R.compose(
      R.flip(R.contains)(list),
      R.prop("id")
    ),
    R.assoc("faved", true),
    R.identity
  );

const applyFavListToProducts = R.mergeWith(
  (list, target) => R.map(applyFav(list), target),
  favList
);

const addFavToProducts = R.evolve({ groupedProducts: applyFavListToProducts });
addFavToProducts(state);
```



## R.when,R.always,R.ifElse的组合
如果判断条件是：**一个函数**，**那么直接使用三元运算即可**，就不要使用 R.ifElse+R.alway了。
```javascript
 const officialOccasion = true; // 正式场合
 const getInfo = officialOccasion => R.omit(officialOccasion ? ["demon"] : []);
 const getOfficialInfo = getInfo(officialOccasion);
 console.log("info", getOfficialInfo(data));
```
可以借鉴以下写法
```javascript
 // 其中，officialOccasion: boolean;
 const getInfo = officialOccasion => R.omit(officialOccasion ? ["demon"] : []);
```

如果判断条件是一个函数的话，并且判断条件是一个`R.always`,那么不如直接写.
```javascript
// 获取简历信息，那么喜欢的颜色，和 恶魔 都不需要显示
const getUserInfo = resume => R.when(resume, R.omit(["favoriteColor", "demon"]));
const isResume = R.propEq("isResume", true); // 这边没有想到特别好的例子，先用它凑合想象下
const getResumeInfo = getUserInfo(isResume);
console.log("resumeInfo", getResumeInfo(data));
```
也就是说需要注意以下写法
```javascript
// 其中 resume: a -> boolean
const getUserInfo = resume => R.when(resume, R.omit(["favoriteColor", "demon"]));
```