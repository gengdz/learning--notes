# SOA
面向服务的架构(Service-Oriented Rrchitecture,SOA)。

通俗理解：把系统按照实际业务，拆分成刚刚好大小的，合适的，独立部署的模块，每个模块之间相互独立。服务间通过接口和契约联系起来。

## 举例说明SOA
举例：有个数据库，一个pc端，一个安卓客户端，一个ios客户端。现在需要从数据库中获取注册用户列表。

* 如果不用SOA:我们就在pc端写一个查询方法，然后在页面显示，在安卓里面也写一个查询方法页面显示，ios也同理。这样做的坏处是三个地方都有相同的业务代码，要改三个地方都要改，而且改的一摸一样。
* 使用SOA: 单独创建一个工程部署在服务器上，并且写一个方法执行查询操作，然后使其他人可以通过某种途径(http连接，或者基于socket的RPC调用)访问这个方法得到数据，返回类型是通用的json或者其他通用的数据类型。就是说把这个操作封装到一个工程中去，然后暴露访问的方式，形成“服务”。比如这里就是注册用户服务，而关于注册用户的所有相关增删改查操作这个服务都会提供方法。


## SOA补充和优点
并且如果很多人都要注册，那么我们可以单独集群部署这个注册服务，其他的服务不变。

当然还要加上服务治理。
服务治理就是：当服务越来越多，调用方也越来越多，他们之间的关系就变得非常混乱，需要对这些关系就行管理。有了服务治理，我们就能清晰的看到谁谁谁调用了哪些服务，哪些服务是热点服务，而对这个个服务集群的负载均衡也是服务治理可以完成的重要功能之一。
更近一步，还要加上 服务监控和跟踪等等。

## SOA定位
SOA只是一种架构设计模式，而SOAP,REST,RPC就是根据这种设计模式构建出来的规范，其中SOAP通俗理解就是 http+xml的形式，REST就是 http+json的形式，RPC是基于socket的形式。dubbo就是典型的RPC框架，而SpringCloud就是遵守REST规范的生态系统。


## SOA在前端的运用
**利用 SOA 可以实现跨组件逻辑复用**
其中：
* 通用的一个个逻辑(使用 React Hooks表达）就是我们的服务
* 一个个组件就是服务的调用方
* 服务间通讯和组件间通讯方式就是  React.Provider + useContext