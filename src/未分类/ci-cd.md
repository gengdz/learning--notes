# CI-CD

## CI

CI：持续集成（Continuous Integration，简称 CI ）是一种软件开发实践，
在这种实践中，**开发团队成员被鼓励频繁地（可能是每天多次）将代码更改合并到集成分支中**。
每次代码提交都伴随着自动化构建和质量检测的过程，以验证新提交的产物是否稳定，并确保这些更改不会破坏现有的系统。

让我们把 “持续” 和 “集成” 拆解开来看，这个概念就会变得更加容易理解：

- 所谓的持续：核心在于构建和维护一种自动化的触发机制，确保软件开发过程中的集成活动不仅仅是偶然的、孤立的事件，而是构成了一个连贯不断、自动执行的流程。
- 所谓的集成：在软件开发中，“集成”指的是将由不同团队或个体开发的独立组件、模块或功能合并为一个协同工作的系统。
  这不仅仅是将分散的组件物理上合并，更重要的是确保合并后的整体系统运行正常，满足质量标准。
  虽然质量测试是集成过程中的一个重要组成部分，但它并不等同于持续集成的整体概念。持续集成强调的是一种自动化、频繁的整合和验证过程。

> 从维基百科的角度来看，"集成"这个术语也用于其它领域，来描述将多个元素合并为一个整体的过程。
> 如集成电路（将数以万计的小电子部件集成到一个小芯片上）
> 或集成吊顶（家装行业中将照明、通风等功能集成到单一的顶部解决方案中），

- 集成的目的：核心目标是确保每次代码提交后都能及时进行验证和检查，从而减少集成后可能出现的问题。通过早期发现和解决这些问题，可以避免在开发周期的后期出现复杂的问题集成，也称之为“集成地狱”。
  此外，CI 过程还确保生成的每个构建都是可以部署的，从而让后续的部署流程更加流畅。

- 集成的过程：涵盖从变更分支合并到集成分支、集成分支构建出可部署的制品，到对这些产物进行质量检测（针对源码和构建制品）的整个流程。

- 稳定性保障：通过自动化的质量检测（包括单元测试、E2E 测试、代码质量分析等），持续集成能够确保代码的稳定性和质量，最终减少生产环境中潜在的错误和问题。

## CD

CD：持续部署（Continuous Deployment，简称 CD ）是紧跟持续集成（CI）之后的开发实践。
在通过 CI 的质量检测后，集成制品可以自动或手动地部署到相应的环境（如日常、预发）。
而对于生产环境来说，由于涉及到系统资源的安全性，可能需要一些人工操作来进行最终确认或其他额外的安全检查。
持续部署使得开发者所提交的更改能够迅速并持续地推向生产环境，极大地压缩了开发周期，加快软件交付速度，并减少了人为干预的可能性。

同样的，把 “持续” 和 “部署” 拆解开，也能更浅显易懂：

- 所谓的持续：指代码更改在通过持续集成（CI）的质量检测之后，自动地部署到指定环境的过程。
  这种自动化流程减少了人为干预的需求，确保了每一次集成成功后的更改都能迅速、准确地推向指定环境，从而加速了软件的交付速度并提升了发布的频率；

- 所谓的部署：软件部署指的是将软件组件、应用或整个系统成功地安装、配置、运行在预定的环境上（如日常、预发或生产环境）。
  在持续部署的实践中，这一过程是自动化的，消除了推送更新到服务器上的人工步骤。譬如 Space 的 Assets 类型应用，部署就是将构建产物发成 CDN 上可以被引用的 JS、CSS 资源。
