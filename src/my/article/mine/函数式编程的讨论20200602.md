# 函数式编程的讨论
> 2020年6月2号，就 `ramda | 函数式编程`，进行了一次讨论，下面把内容记录下来

刘浩然(深屿):@所有人   大家对ramda啥意见？

吕德中(吕德中):用起来还好。可读性差。

吕德中(吕德中):调试不方便

隋鑫磊(笑斌):建议是包装成业务常用函数再调用，直接调用满足不了业务需求，柯里化调用会导致可读性差

刘浩然(深屿):同意，业务组件中不要直接调用ramda，基础工具函数可以用ramda封装

耿德洲(耿德洲): **ramda非常好用，不只是一个工具，更是一种思想的转换。fp<函数式编程>。  它的作用在于数据的处理，方式是通过函数的组合变形等进行函数的复用。  同时函数式编程强调数据的不可变性，以及对纯的崇尚。这样能保证我们的函数，不依赖外部环境变量，同样的输入，总是能得到同样的结果，并且不会改变原数据。**

隋鑫磊(笑斌):函数式编程前提要求：确保输入的结构不可变，逻辑拆解为单元可测试。这两个目前在战投业务中都很难做到。

耿德洲(耿德洲): **现在我们来讨论它的可读性问题：  可读或者不可读，我们来讨论这个问题的时候，需要有基本的认识。 也就是说，我们需要在能看懂这一个一个的函数作用的时候，再来判断它是否可读，而不是说从来都不了解一个东西，在这个基础上，讨论可读性没有价值。  最具有可读性的代码应当是，你把需求给我，我用口述的方式说给你听，然后我就可以用一个程序语言实现它，而不是命令的实现。**

耿德洲(耿德洲): **@笑斌  输入的结构不可变这个说法，我觉得还值得再细化下，不然太笼统。这里可以拆解的概念就有，数据的结构，输入不可变等**

胡佳俊(昔夜):@耿德洲(耿德洲)  给你的思考点赞，我们做技术选型的时候也需要从多个维度考虑，针对这个点我们今天晚上重点讨论下吧。

耿德洲(耿德洲): **@笑斌  逻辑的拆解，这个即使我们现在做不到。但是，这依然是一个好的方向，那就是对逻辑进行合理的细化拆解。函数式编程目的是让大函数变成一个一个的可服用的小函数，这样我们可以通过组合的方式进行复用，react hooks也是同样的方式，让逻辑进行复用，只是它是通过 自定义hook的方式**

耿德洲(耿德洲):@昔夜  好的

耿德洲(耿德洲):还有一个，就是 我看大厂的面试，总免不了 函数式编程的相关问题， 趁机讨论一下也挺好的，有助于我们的思考

耿德洲(耿德洲): **关于这个问题，再多说一句，就是 我们的项目中用到了 rxjs , fomily内部实现也是基于rxjs。rxjs的思想是 函数响应式编程 。对rxjs来说，非常重要的就是对 流 的操作。也就是operators。 这其中有大部分的操作符，和ramda很像(这是rxjs函数式的一面）。也就是说我们可以在这两个上面相辅相成。**

胡佳俊(昔夜):正如你上面说的「我们需要在能看懂这一个一个的函数作用的时候，再来判断它是否可读，而不是说从来都不了解一个东西，在这个基础上，讨论可读性没有价值」，我个人也是觉得我们讨论的出发点一定不是这个框架或库是否是每个人都会，而应该是说用它写出来的代码是否可维护的，或者说怎么写才是可维护的，适不适合于当前业务场景；除此之外因为项目是多人协作，特别是战投可能会有不断的人流转，学习成本也是一个需要考量的因素。
胡佳俊(昔夜):所以我觉得晚上我们可以基于「适用性」、「可维护性」、「学习成本」三个维度进行讨论

耿德洲(耿德洲):好的👌

胡佳俊(昔夜):我们需要更多这样的讨论[呲牙]

耿德洲(耿德洲):我也觉得我们需要更多这样的讨论，毕竟我们是coder,而不是businesser。
这不是用或者不用函数式问题，是我们深入的理解了这个问题。

刘浩然(深屿):@耿德洲   [赞]，首先肯定一下函数式的思想，不然我们也不会主推hooks去写。再者我觉得使用函数最大的优势是可复用性，很多业务上的行为可以用函数抽象，同样的行为就可以通过自定义hooks复用减少ui代码。但是目前战投里使用ramda来看，我觉得我们只达到了”使用“的程度，而没有对业务行为进行抽象，也没有将可复用的逻辑拆分为一个个函数单元，通过组合的方式实现完整的业务流程

胡佳俊(昔夜):屿哥的意思是我们只用到了ramda的api，没有用函数式编程的思想去真正解决我们的业务问题[狗子]