# IOC 和 DI

## 什么是IOC
IOC（Inversion of Control) 翻译为：**控制反转** 或者 **依赖倒置**。主要包含下面三个准则：
1. 高层次的模块不应该依赖于低层次的模块，他们都应该依赖于抽象
2. 抽象不应该依赖于具体实现，具体实现应该依赖于抽象
3. 面向接口编程而不是面向实现编程

一些理解
控制：对对象的控制权，如创建和销毁
反转：由最初在类中手动创建对象反转为由Spring容器去创建

高层按照需要定义接口，底层按照高层定义的接口实现接口。 接口只是依赖倒置的实现方法之一

> * [前端中IOC概念](https://zhuanlan.zhihu.com/p/53832991)


## DI
DI(Dependency Injection) 依赖注入
简单说来就是把高模块所依赖的模块，通过一定的方式，把依赖注入到模块内部



## IOC和DI的关系
IOC是指导思想，DI是这个这个指导思想下的实践。


## 在React中的运用
反转指的是，很多时候问题的根源在于，react没有把变更和相应式的控制权给我我们我们。框架系统把内部逻辑的控制权给到用户，就是控制反转。
useState 响应控制权
useEffect m-vm的响应式回调
useLayoutEffect vm-v的响应式回调
useMemo 调度控制权

### 有了IOC之后，props的作用是什么呢？
除了影响调度（函数式组件）外，props其实在新版React中，**只起到 map 节点传递 迭代标示 或者 注入令牌的作用**

