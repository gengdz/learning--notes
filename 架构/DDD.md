# DDD(Domain-Driven-Design)
领域驱动设计 是 **domain driven design** 的缩写。

> 参考：
> * [探索DDD在前端开发中的引用](https://darkyzhou.net/frontend-with-ddd-2/)

## 通用语言和限界上下文
DDD作为一个建模工具箱，为了建模而生。工作原理是：DDD是使用通用语言(Ubiquitous Language) 区分出限界上下文(Bounded Context) 来对需求的子域(Sub-domain)进行建模的工具

通用语言是: 一些单词或者短语的特殊含义，或者开发团队之间形成的各种约定。通用语言是既描述了业务需求，又在代码设计中得到体现。
限界上下文则是: 一个语义上和语境上的边界，其中的每个代表软件模型的组件都有着特定的含义，并且处理特定的事务。这里的 *特定* 就是通用语言

在大型项目中，一个限界上下文往往对应一个由程序员、领域专家和产品经理等角色构成的开发团队。团队成员之间会在工作中使用这种通用语言，并且程序员书写出软件模型的源代码就是通用语言的书面表达。因此限界上下文和通用语言既是软件结构层面的设计，还是团队结构的设计



## 聚合
聚合：限界上下文中一个个的代码集合体，由实体或值对象构成，其中
设计聚合的一些参考原则
1. 在聚合边界内保护业务规则的不变性。
2. 聚合应该设计得小巧。
3. 只能通过标识符引用其他聚合，而不是对象引用之类的。
4. 使用最终一致性更新其他聚合。

*使用最终一致性更新其他聚合* 是什么意思呢？
假设一位学生加入了某个课程，那么在 Account限界上下文中的 Account聚合 应该提交「已加入课程」的更新，但这只维护这个聚合内部的事物一致性，我们还需要维护 课程限界上下文中的 成员列表聚合，向其中加入这位同学的学号才算是完成了业务需求的 「学生可以加入课程」这项功能


## 领域事件
这种对聚合之间最终一致性的需求催生了 领域事件（Domain Event) 的概念。
它是一个聚合发布的，由利益相关的界限上下问订阅的事件。通常由消息机制以发布订阅的方式实现


## 贫血模型
只有数据，没有行为。
无法应对复杂逻辑。

## 在前端的使用
通过组件的 props 进行分流（map + key)，能否非常优雅的处理嵌套复杂架构。
状态逻辑一起复用

函数式在处理业务逻辑上，有着非常恐怖的锋利程度，学好了百利而无一害但是请注意，函数式作为对计算过程的一般抽象，只在组件服务层级以下发挥作用，用它处理通讯，算法，异步，并发都是上上之选但是在软件架构层面，函数式没有任何优势，组件层级以上，永远用面向对象的思维审视，是个非常好的习惯~


### 领域模块
函数式可以将其优势通过管道发挥到极致，面向对象一样可以将其优势发挥到极致，这便是领域模块。
什么是领域？
所谓领域，就是一系列相同目的，相同功能的资源的集合。
比如，学校，公司，这两个类，如果分别封装了大量的其他类以及相关资源，共同构成一个整体，自行管理，自行测试，甚至自行构建发布，对外提供统一的接口，那这就是领域
听不懂？这么说，如果实现了一个类和其相关资源的自行管理，自行测试，这就是 ——DDD
如果实现了对其的自行构建发布，这就是 ——微服务
听到这个词是不是非常开心？这种模型给了应用规模化的能力 —— 横向，纵向扩展能力
还有高可用，即类的组合间的松散耦合范式
对于这样的范式，你首先思考的是 —— 你要做什么！这就是 ——自顶向下

